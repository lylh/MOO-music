<!--
 * @Author: paner 328538688@qq.com
 * @Date: 2025-09-21 10:54:07
 * @LastEditors: paner 328538688@qq.com
 * @LastEditTime: 2025-09-21 18:03:21
 * @FilePath: \MOO-music\src\App.vue
 * @Description: è¿™æ˜¯é»˜è®¤è®¾ç½®,è¯·è®¾ç½®`customMade`, æ‰“å¼€koroFileHeaderæŸ¥çœ‹é…ç½® è¿›è¡Œè®¾ç½®: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<script setup lang="ts">
onLaunch(async () => {
  console.log('ğŸš€ App Launch å¼€å§‹')
  
  // ä½¿ç”¨uni.showToastæ˜¾ç¤ºåº”ç”¨å¯åŠ¨ä¿¡æ¯
  uni.showToast({
    title: 'ğŸš€ App Launch å¼€å§‹',
    icon: 'none',
    duration: 3000
  })
  
  console.log('ğŸ”§ å½“å‰ç¯å¢ƒ:', {
    platform: uni.getSystemInfoSync().platform,
    environment: process.env.NODE_ENV
  })
  
  // æ˜¾ç¤ºç¯å¢ƒä¿¡æ¯
  const systemInfo = uni.getSystemInfoSync()
  uni.showToast({
    title: `å¹³å°: ${systemInfo.platform}`,
    icon: 'none',
    duration: 2000
  })
  
  // å¼‚æ­¥æ‰§è¡ŒsetupLoginï¼Œæ•è·Promiseå¼‚å¸¸
  try {
    console.log('ğŸ¯ å¼€å§‹æ‰§è¡Œ setupLogin')
    uni.showToast({
      title: 'ğŸ¯ å¼€å§‹æ‰§è¡Œ setupLogin',
      icon: 'none',
      duration: 2000
    })
    await setupLogin()
    console.log('âœ… setupLogin æ‰§è¡ŒæˆåŠŸ')
    uni.showToast({
      title: 'âœ… setupLogin æˆåŠŸ',
      icon: 'success',
      duration: 2000
    })
  } catch (error) {
    console.error('âŒ setupLogin å¼‚å¸¸:', error)
    uni.showToast({
      title: 'âŒ setupLogin å¼‚å¸¸',
      icon: 'none',
      duration: 3000
    })
  }
  
  // å¼‚æ­¥æ‰§è¡ŒsetupAudioï¼Œæ•è·Promiseå¼‚å¸¸
  try {
    console.log('ğŸ¯ å¼€å§‹æ‰§è¡Œ setupAudio')
    uni.showToast({
      title: 'ğŸ¯ å¼€å§‹æ‰§è¡Œ setupAudio',
      icon: 'none',
      duration: 2000
    })
    setupAudio()
    console.log('âœ… setupAudio æ‰§è¡ŒæˆåŠŸ')
    uni.showToast({
      title: 'âœ… setupAudio æˆåŠŸ',
      icon: 'success',
      duration: 2000
    })
  } catch (error) {
    console.error('âŒ setupAudio å¼‚å¸¸:', error)
    uni.showToast({
      title: 'âŒ setupAudio å¼‚å¸¸',
      icon: 'none',
      duration: 3000
    })
  }
  
  console.log('âœ… App Launch å®Œæˆ')
  uni.showToast({
    title: 'âœ… App Launch å®Œæˆ',
    icon: 'success',
    duration: 2000
  })
})
</script>

<style>
@import '@/styles/index.css';
</style>
